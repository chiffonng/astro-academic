---
import { formatDate } from "@/lib/utils"

interface Props {
  /** Date to format */
  date: Date
  /** Additional CSS classes */
  class?: string
  /** Use relative time format (e.g., "3 days ago") for recent dates */
  relative?: boolean
  /** Number of days threshold for relative formatting */
  maxDaysThreshold?: number
}

const { date, class: className, relative, maxDaysThreshold } = Astro.props

const displayDate = formatDate(date, undefined, {
  relative,
  maxDaysThreshold
})
const isoDate = date.toISOString()
---

<time datetime={isoDate} class={className}>
  {displayDate}
</time>
